# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –ø—Ä–æ–∫—Å–∏ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è CORS

## üéØ –í–∞—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
```
https://s3.twcstorage.ru/617774af-gifty/wheel-images/1750680655099-pk24bh.png
```

## ‚úÖ –ü—Ä–æ–∫—Å–∏ API —Ä–∞–±–æ—Ç–∞–µ—Ç!
–¢–µ—Å—Ç –ø–æ–∫–∞–∑–∞–ª, —á—Ç–æ –ø—Ä–æ–∫—Å–∏ API —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–∞—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (—Å—Ç–∞—Ç—É—Å 200 OK).

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
```
http://localhost:3000/test-specific-image
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã
1. –ù–∞–∂–º–∏—Ç–µ **"üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã"**
2. –°–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –ø—Ä–∞–≤–æ–π –∫–æ–ª–æ–Ω–∫–µ

### –®–∞–≥ 3: –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **1Ô∏è‚É£ –ü—Ä—è–º–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:** ‚ùå CORS –æ—à–∏–±–∫–∞ (–æ–∂–∏–¥–∞–µ–º–æ)
- **2Ô∏è‚É£ –ë–µ–∑ CORS:** ‚úÖ –£—Å–ø–µ—Ö (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å) 
- **3Ô∏è‚É£ –ü—Ä–æ–∫—Å–∏:** ‚úÖ –£—Å–ø–µ—Ö (–ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)

### –®–∞–≥ 4: –¢–µ—Å—Ç –≤ CustomWheel
1. –ù–∞–∂–º–∏—Ç–µ **"üé° –¢–µ—Å—Ç –≤ CustomWheel"**
2. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
3. –£–≤–∏–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–ø—ã—Ç–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏:
   - –ü–æ–ø—ã—Ç–∫–∞ —Å CORS ‚Üí –æ—à–∏–±–∫–∞
   - –ü–æ–ø—ã—Ç–∫–∞ –±–µ–∑ CORS ‚Üí —É—Å–ø–µ—Ö (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ)
   - –ü–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ ‚Üí —É—Å–ø–µ—Ö (–ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)

## üéâ –ß—Ç–æ —ç—Ç–æ —Ä–µ—à–∞–µ—Ç

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
Error: ‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: {}
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
‚úÖ CustomWheel: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–µ–≥–º–µ–Ω—Ç–∞ 0 –∑–∞–≥—Ä—É–∂–µ–Ω–æ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
üìè CustomWheel: –†–∞–∑–º–µ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 0 —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏: 120 x 120
üéâ CustomWheel: –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è —Å–µ–≥–º–µ–Ω—Ç–∞ 0
```

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **CustomWheel** –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å CORS
2. –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è ‚Üí –ø—ã—Ç–∞–µ—Ç—Å—è –±–µ–∑ CORS (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
3. –ï—Å–ª–∏ –∏ —ç—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–∫—Å–∏ API (–ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)

## üöÄ –ü—Ä–æ–∫—Å–∏ API

**Endpoint:** `/api/proxy-image?url=<encoded_url>`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 1 —á–∞—Å  
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (—Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ CustomWheel

## üìã –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

- `/test-proxy-images` - –û–±—â–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏
- `/debug-s3-cors` - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ CORS –ø—Ä–æ–±–ª–µ–º
- `/debug-image-load` - –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–¢–µ–ø–µ—Ä—å –≤–∞—à–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –Ω–∞–¥–µ–∂–Ω–æ! üéØ 