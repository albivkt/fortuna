# Тестирование изображений для сегментов рулетки

## Что было реализовано

Добавлена функциональность загрузки изображений для сегментов рулетки с ограничением PRO плана.

### Изменения в коде:

1. **Страница создания рулетки** (`src/app/dashboard/create/page.tsx`):
   - Добавлена поддержка изображений в сегментах
   - Обновлена функция `updateSegment` для работы с изображениями
   - Добавлена функция `updateImagePosition` для позиционирования изображений
   - Расширенный интерфейс сегментов с возможностью загрузки изображений (только PRO)
   - Сообщение для бесплатных пользователей о доступности функции в PRO

2. **Страница редактирования рулетки** (`src/app/dashboard/edit/[id]/page.tsx`):
   - Добавлено ограничение PRO плана для загрузки изображений
   - Добавлен PRO бейдж для функции изображений
   - Сообщение для бесплатных пользователей

## Как тестировать

### 1. Тестирование с бесплатным планом

1. Откройте http://localhost:3000/dashboard/create
2. Убедитесь, что у вас бесплатный план (FREE)
3. В каждом сегменте должно быть сообщение: "Изображения для сегментов доступны только в PRO тарифе"
4. Должна быть доступна только настройка цвета сегментов

### 2. Тестирование с PRO планом

1. Активируйте PRO план через http://localhost:3000/test-subscription
2. Нажмите "Активировать PRO (месячный)" или "Активировать PRO (годовой)"
3. Перейдите на http://localhost:3000/dashboard/create
4. В каждом сегменте должна появиться секция "PRO Изображение (вместо цвета)"
5. Попробуйте загрузить изображение для сегмента
6. Убедитесь, что:
   - Изображение загружается и отображается в превью
   - Цвет сегмента отключается при загрузке изображения
   - Можно заменить или удалить изображение
   - Изображение отображается в предпросмотре рулетки

### 3. Тестирование редактирования существующей рулетки

1. Создайте рулетку с изображениями (PRO план)
2. Перейдите в редактирование рулетки
3. Проверьте, что изображения загружаются и отображаются
4. Попробуйте изменить/удалить изображения
5. Сохраните изменения

### 4. Тестирование ограничений

1. Попробуйте загрузить файл размером больше 2MB - должно показать ошибку
2. Попробуйте загрузить не-изображение - должно показать ошибку
3. Переключитесь на бесплатный план и убедитесь, что функция становится недоступной

## Ожидаемое поведение

### Для бесплатного плана:
- ❌ Загрузка изображений недоступна
- ✅ Отображается сообщение о PRO функции
- ✅ Доступна только настройка цвета

### Для PRO плана:
- ✅ Загрузка изображений доступна
- ✅ Отображается PRO бейдж
- ✅ Изображения заменяют цвет сегмента
- ✅ Можно заменить/удалить изображения
- ✅ Изображения отображаются в рулетке

## Файлы, которые были изменены:

1. `src/app/dashboard/create/page.tsx` - добавлена поддержка изображений
2. `src/app/dashboard/edit/[id]/page.tsx` - добавлено ограничение PRO

## Дополнительные возможности

- Изображения автоматически масштабируются и обрезаются для сегментов
- Поддержка перетаскивания изображений на рулетке для изменения позиции (уже реализовано в CustomWheel)
- Ограничение размера файла 2MB для производительности
- Поддержка всех основных форматов изображений (PNG, JPG, GIF, WebP)

## Возможные улучшения

1. Добавить сжатие изображений перед сохранением
2. Добавить возможность обрезки изображений
3. Добавить предустановленные иконки для сегментов
4. Добавить анимации при загрузке изображений 