# üöÄ –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

## –ü—Ä–æ–±–ª–µ–º–∞
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ —Ä—É–ª–µ—Ç–∫–∏ - –æ—à–∏–±–∫–∞ `‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: {}`

## ‚ö° –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤—å—Ç–µ S3 credentials –≤ .env.local
```env
# S3 Configuration –¥–ª—è TWC Storage
S3_REGION=ru-1
S3_BUCKET=617774af-gifty
S3_ACCESS_KEY_ID=f3eab5c6-7b2b-4c8e-8f9e-1a2b3c4d5e6f
S3_SECRET_ACCESS_KEY=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0
S3_ENDPOINT=https://s3.twcstorage.ru
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä ‚ùó –í–ê–ñ–ù–û ‚ùó
```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å npm run dev –Ω–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ:
npm run dev
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000/debug-env`
2. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è"
3. –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ S3 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–∞–∫ "SET"

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ S3 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000/debug-s3-config`
2. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é S3"
3. –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å "‚úÖ S3 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞"

### 5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ ImageUpload –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000/imageupload-test`
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ drag & drop –∏–ª–∏ –∫–Ω–æ–ø–∫—É
3. –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å URL –∏ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### 6. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ S3 API
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000/debug-images-simple`
2. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"
3. –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å "‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ"

### 7. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ CustomWheel —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000/wheel-debug`
2. –î–æ–±–∞–≤—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫ —Å–µ–≥–º–µ–Ω—Ç–∞–º
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –ª–æ–≥–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
4. –ü–æ–∫—Ä—É—Ç–∏—Ç–µ —Ä—É–ª–µ—Ç–∫—É - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è

## –ì–æ—Ç–æ–≤–æ! üéâ
–¢–µ–ø–µ—Ä—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ —Ä—É–ª–µ—Ç–∫–∏.

## –ï—Å–ª–∏ –æ—à–∏–±–∫–∏ –æ—Å—Ç–∞—é—Ç—Å—è:

### `TypeError: parameter 1 is not of type 'Blob'`:
–°—Ç–∞—Ä—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ImageUpload. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä** –∏ –æ—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à (Ctrl+Shift+R).

### `‚ùå CustomWheel: –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–µ–≥–º–µ–Ω—Ç–∞`:
–ü—Ä–æ–±–ª–µ–º–∞ —Å CORS –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- S3 –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ 